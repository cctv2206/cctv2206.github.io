module.exports=__NEXT_REGISTER_PAGE("/campaigns/requests/new",function(){var e=webpackJsonp([5],{866:function(e,t,r){e.exports=r(867)},867:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(33);var a=r.n(n);var o=r(0);var u=r.n(o);var s=r(86);var i=r(41);var c=r(87);var l=r(51);var p=r(62);var f=r.n(p);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var u=t[a](o);var s=u.value}catch(e){r(e);return}if(!u.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){b(t,e);function t(){var e,r=this;var n,o,u;d(this,t);for(var s=arguments.length,i=Array(s),f=0;f<s;f++)i[f]=arguments[f];return u=(n=(o=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o),o.state={description:"",amount:"",recipient:"",loading:false,errorMessage:""},o.onSubmit=function(){var e=v(a.a.mark(function e(t){var n,u;return a.a.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:t.preventDefault();o.setState({loading:true,errorMessage:""});r.prev=2;n=Object(c["a"])(o.props.address);r.next=6;return l["a"].eth.getAccounts();case 6:u=r.sent;r.next=9;return n.methods.createRequest(o.state.description,l["a"].utils.toWei(o.state.amount,"ether"),o.state.recipient).send({from:u[0]});case 9:p["Router"].replaceRoute("/campaigns/"+o.props.address+"/requests");r.next=15;break;case 12:r.prev=12;r.t0=r["catch"](2);o.setState({errorMessage:r.t0.message.substring(0,200)});case 15:o.setState({loading:false});case 16:case"end":return r.stop()}},e,r,[[2,12]])}));return function(t){return e.apply(this,arguments)}}(),n),m(o,u)}h(t,[{key:"render",value:function e(){var t=this;return u.a.createElement(s["a"],null,u.a.createElement(p["Link"],{route:"/campaigns/"+this.props.address+"/requests"},u.a.createElement("a",null,"Back")),u.a.createElement("h3",null,"Create a new request"),u.a.createElement(i["d"],{onSubmit:this.onSubmit,error:!!this.state.errorMessage},u.a.createElement(i["d"].Field,null,u.a.createElement("label",null,"Description"),u.a.createElement(i["h"],{value:this.state.description,onChange:function e(r){return t.setState({description:r.target.value})}})),u.a.createElement(i["d"].Field,null,u.a.createElement("label",null,"Amount in Ether"),u.a.createElement(i["h"],{value:this.state.amount,onChange:function e(r){return t.setState({amount:r.target.value})}})),u.a.createElement(i["d"].Field,null,u.a.createElement("label",null,"Recipient"),u.a.createElement(i["h"],{value:this.state.recipient,onChange:function e(r){return t.setState({recipient:r.target.value})}})),u.a.createElement(i["m"],{error:true,header:"Oops!",content:this.state.errorMessage,style:{overflowWrap:"break-word"}}),u.a.createElement(i["a"],{primary:true,loading:this.state.loading},"Create")))}}],[{key:"getInitialProps",value:function(){var e=v(a.a.mark(function e(t){var r;return a.a.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:r=t.query.address;return n.abrupt("return",{address:r});case 2:case"end":return n.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]);return t}(o["Component"]);t["default"]=g}},[866]);return{page:e.default}});